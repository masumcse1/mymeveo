# Function testing

## Test execution

A JMeter test suite can be attached to any function by filling the `testSuite` field. When a new testSuite is uploaded using FunctionApi#updateTest, it creates a Job of type `TEST` that take as parameter the code of the function to test.

This type of job is executed by the [FunctionTestJob](./FunctionTestJob.java), which relies on the [JMeterService](./JMeterService.java) to execute the test suite.

The result file is parsed into a [TestResult](./TestResult.java) and the ok, ko and warnings ([SampleResult](./SampleResult.java)) are extracted from it. A report is generated by aggregating the response data of the test and the assertions results.

## Test result visualization

It exists 3 levels of test result vizualization

### Categories tests

The numbers of OK, KO and warnings are aggregated grouping the test by their function's category. The stability of a category is calculated (stable if there is no KO). See the [CategoryTestService](./CategoryTestService.java) to check in detail the requests.

### Functions tests

The last execution of each test is returned. We have the possibility to filter by category and execution date. See the [TestResultService](./TestResultService.java) to check in detail the requests.

### Particular test execution

It is the classic view of a Job execution, corresponding to the given function test.